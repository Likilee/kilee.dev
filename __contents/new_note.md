---
title: 새로운 연습 노트를 시작해볼까!
date: 2023-02-10
summary: 새로운 연습을 시작하자

---

# 새로운 연습 노트를 시작해볼까!!

현재 시각 오전 4시 21분, 유미는 뒤척이며, 새근새근 자고 있다.

## 오늘 알게된 사실

> 일반 인용문은 이렇다.

- [x] Todo list를 추가하는 단축키는 cmd + option + x 이다.

- [x] Mark Text에서 제공하는 컴포넌트를 사용하기 위해서는 @를 입력하면 된다.

- [x] 인용문의 사용법은 이렇다.

- [x] 무료 텍스트 에디터 중에 가장 마음에 든다. 다만 Mdx 확장자 지원 문제라던가. 등등은 해결할 과제이다.

완성된 contentlayer.config.ts 파일은 아래와 같다.

```typescript title="contentlayer.config.ts" {1,2,3}
import { defineDocumentType, makeSource } from 'contentlayer/source-files'
import readingTime from 'reading-time'
import rehypeAutolinkHeadings from 'rehype-autolink-headings'
import rehypeHighlight from 'rehype-highlight'
import rehypeSlug from 'rehype-slug'
import remarkGfm from 'remark-gfm'
import { getSlug } from './lib/files'
import rehypeImgSizeWithFullWidth from './lib/rehypeImgSizeWithFullWidth'
import rehypeUrlInspector, { type Options } from 'rehype-url-inspector'

const Post = defineDocumentType(() => ({
  name: 'Post',
  filePathPattern: `**/*.@(md|mdx)`,
  contentType: 'mdx',
  fields: {
    title: {
      type: 'string',
      description: 'The title of the post',
      required: true,
    },
    date: {
      type: 'date',
      description: 'The date of the post',
      required: true,
    },
    summary: {
      type: 'string',
      description: 'The sammary of the post',
      required: true,
    },
  },
  computedFields: {
    slug: {
      type: 'string',
      resolve: (doc) => getSlug(doc._raw.flattenedPath),
    },
    readtime: {
      type: 'string',
      resolve: (doc) => readingTime(doc.body.raw).text,
    },
  },
}))

export default makeSource({
  contentDirPath: '__contents',
  documentTypes: [Post],
  mdx: {
    remarkPlugins: [remarkGfm],
    rehypePlugins: [
      rehypeHighlight,
      rehypeSlug,
      [
        /* 💡 A custom plugin to eliminate "../public" generated by the markdown editor for the next/image component. */
        rehypeUrlInspector,
        {
          inspectEach(url) {
            if (
              url.node.properties &&
              url.node.properties.src &&
              typeof url.node.properties.src === 'string'
            )
              url.node.properties.src = url.node.properties.src.replace(/^.*\/public\//, '/')
          },
          selectors: [`img[src]`],
        } as Options,
      ],
      /* 💡 A custom plugin to enhance <img> tags by adding size (width/height) attributes. */
      rehypeImgSizeWithFullWidth,
      [
        rehypeAutolinkHeadings,
        {
          properties: {
            className: ['anchor'],
          },
        },
      ],
    ],
  },
})
```

## 내일 할일

- [x] Todo list 들여쓰기 처리 ( bullet 없애고 )

- [x] rehypePrettyCode 적용

- [ ] 코드블럭 타이틀 rehype 적용

- [ ] 코드블럭 Tab 기능 적용

- [ ] 이미지 압축 github action 적용

- [ ] 더 나은 404 페이지 (홈페이지 경로 제공하는)

- [ ] 레브잇 홈페이지 희망 인재 읽어보고 문자보내보기

- [ ] 테스트를해보자구 길게 글을 테스트를해보자구 길게 글을테스트를해보자구 길게 글을테스트를해보자구 길게 글을
1. 오더드 리스트는 어쩌지 줄바꿈을 잘 생각해야해 어떻게 되는지는 그게 중요하거든, 들여써야해

2. 함 꼴좀 보자구~

3. 이제 글 쓸 준비는 되었다.

4. 중요한건 글을 쓰는 것이다!! :)

### 🙂 주의할 점!

1. 파일명은 snake_case 로 영어만 사용해서 작성

2. 파일명은 md 확장자로만 작성할 것

3. 새로운 글은 PR로 작성하는게 좋을듯, CI 도움도 받고

#### Rehype pretty code 추가 중 만난 상황

```bash
Warning: For production Image Optimization with Next.js, the optional 'sharp' package is strongly recommended. Run 'yarn add sharp', and Next.js will use it automatically for Image Optimization.
Read more: https://nextjs.org/docs/messages/sharp-missing-in-production
```

next image opt 최적화를 위해서는 sharp 라는 모듈을 설치하는 것을 추천한다고 한다.

```bash
yarn add sharp
```

`const a = [1, 2, 3]{:js}`

hello `hi` 안녕하세요 `const a = b{:js}` 내이름은 이기훈
